var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _react=_interopRequireDefault(require("react"));var _reactNative=require("react-native");var _propTypes=_interopRequireDefault(require("prop-types"));var _=require("./");var _theme=_interopRequireWildcard(require("./theme"));var _jsxFileName="/Users/jasonbarnett/code/forks/galio/src/Card.js";function Card(_ref){var avatar=_ref.avatar,borderless=_ref.borderless,caption=_ref.caption,captionColor=_ref.captionColor,card=_ref.card,children=_ref.children,footerStyle=_ref.footerStyle,image=_ref.image,imageBlockStyle=_ref.imageBlockStyle,imageStyle=_ref.imageStyle,location=_ref.location,locationColor=_ref.locationColor,shadow=_ref.shadow,style=_ref.style,styles=_ref.styles,title=_ref.title,titleColor=_ref.titleColor,theme=_ref.theme,props=(0,_objectWithoutProperties2.default)(_ref,["avatar","borderless","caption","captionColor","card","children","footerStyle","image","imageBlockStyle","imageStyle","location","locationColor","shadow","style","styles","title","titleColor","theme"]);function renderImage(){if(!image)return null;return _react.default.createElement(_.Block,{card:true,style:[styles.imageBlock,imageBlockStyle],__source:{fileName:_jsxFileName,lineNumber:33}},_react.default.createElement(_reactNative.Image,{source:{uri:image},style:[styles.image,imageStyle],__source:{fileName:_jsxFileName,lineNumber:34}}));}function renderAvatar(){if(!avatar)return null;return _react.default.createElement(_reactNative.Image,{source:{uri:avatar},style:styles.avatar,__source:{fileName:_jsxFileName,lineNumber:41}});}function renderLocation(){if(!location)return null;if(typeof location!=='string'){return location;}return _react.default.createElement(_.Block,{row:true,right:true,__source:{fileName:_jsxFileName,lineNumber:51}},_react.default.createElement(_.Icon,{name:"map-pin",family:"feather",color:locationColor||theme.COLORS.MUTED,size:theme.SIZES.FONT,__source:{fileName:_jsxFileName,lineNumber:52}}),_react.default.createElement(_.Text,{muted:true,size:theme.SIZES.FONT*0.875,color:locationColor||theme.COLORS.MUTED,style:{marginLeft:theme.SIZES.BASE*0.25},__source:{fileName:_jsxFileName,lineNumber:58}},location));}function renderAuthor(){return _react.default.createElement(_.Block,{flex:true,row:true,style:[styles.footer,footerStyle],space:"between",__source:{fileName:_jsxFileName,lineNumber:71}},_react.default.createElement(_.Block,{flex:0.3,__source:{fileName:_jsxFileName,lineNumber:72}},renderAvatar()),_react.default.createElement(_.Block,{flex:1.7,__source:{fileName:_jsxFileName,lineNumber:73}},_react.default.createElement(_.Block,{style:styles.title,__source:{fileName:_jsxFileName,lineNumber:74}},_react.default.createElement(_.Text,{size:theme.SIZES.FONT*0.875,color:titleColor,__source:{fileName:_jsxFileName,lineNumber:75}},title)),_react.default.createElement(_.Block,{row:true,space:"between",__source:{fileName:_jsxFileName,lineNumber:79}},_react.default.createElement(_.Block,{row:true,right:true,__source:{fileName:_jsxFileName,lineNumber:80}},_react.default.createElement(_.Text,{p:true,muted:true,size:theme.SIZES.FONT*0.875,color:captionColor,__source:{fileName:_jsxFileName,lineNumber:81}},caption)),renderLocation())));}var styleCard=[borderless&&{borderWidth:0},style];return _react.default.createElement(_.Block,(0,_extends2.default)({},props,{card:card,shadow:shadow,style:styleCard,__source:{fileName:_jsxFileName,lineNumber:96}}),renderImage(),renderAuthor(),children);}Card.defaultProps={card:true,shadow:true,borderless:false,styles:{},theme:_theme.default,title:'',titleColor:'',caption:'',captionColor:'',footerStyle:{},avatar:''};Card.propTypes={card:_propTypes.default.bool,shadow:_propTypes.default.bool,borderless:_propTypes.default.bool,styles:_propTypes.default.any,theme:_propTypes.default.any,title:_propTypes.default.string,titleColor:_propTypes.default.string,caption:_propTypes.default.string,captionColor:_propTypes.default.string,avatar:_propTypes.default.string,footerStyle:_propTypes.default.object};var styles=function styles(theme){return _reactNative.StyleSheet.create({card:{borderWidth:0,backgroundColor:theme.COLORS.WHITE,width:theme.SIZES.CARD_WIDTH,marginVertical:theme.SIZES.CARD_MARGIN_VERTICAL},footer:{justifyContent:'flex-start',alignItems:'center',paddingHorizontal:theme.SIZES.CARD_FOOTER_HORIZONTAL,paddingVertical:theme.SIZES.CARD_FOOTER_VERTICAL,backgroundColor:theme.COLORS.TRANSPARENT,zIndex:1},avatar:{width:theme.SIZES.CARD_AVATAR_WIDTH,height:theme.SIZES.CARD_AVATAR_HEIGHT,borderRadius:theme.SIZES.CARD_AVATAR_RADIUS},title:{justifyContent:'center'},imageBlock:{borderWidth:0,overflow:'hidden'},image:{width:'auto',height:theme.SIZES.CARD_IMAGE_HEIGHT},round:{borderRadius:theme.SIZES.CARD_ROUND},rounded:{borderRadius:theme.SIZES.CARD_ROUNDED}});};var _default=(0,_theme.withStyles)(Card,styles);exports.default=_default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9DYXJkLmpzIl0sIm5hbWVzIjpbIkNhcmQiLCJhdmF0YXIiLCJib3JkZXJsZXNzIiwiY2FwdGlvbiIsImNhcHRpb25Db2xvciIsImNhcmQiLCJjaGlsZHJlbiIsImZvb3RlclN0eWxlIiwiaW1hZ2UiLCJpbWFnZUJsb2NrU3R5bGUiLCJpbWFnZVN0eWxlIiwibG9jYXRpb24iLCJsb2NhdGlvbkNvbG9yIiwic2hhZG93Iiwic3R5bGUiLCJzdHlsZXMiLCJ0aXRsZSIsInRpdGxlQ29sb3IiLCJ0aGVtZSIsInByb3BzIiwicmVuZGVySW1hZ2UiLCJpbWFnZUJsb2NrIiwidXJpIiwicmVuZGVyQXZhdGFyIiwicmVuZGVyTG9jYXRpb24iLCJDT0xPUlMiLCJNVVRFRCIsIlNJWkVTIiwiRk9OVCIsIm1hcmdpbkxlZnQiLCJCQVNFIiwicmVuZGVyQXV0aG9yIiwiZm9vdGVyIiwic3R5bGVDYXJkIiwiYm9yZGVyV2lkdGgiLCJkZWZhdWx0UHJvcHMiLCJKYXl0ZWNoVGhlbWUiLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJib29sIiwiYW55Iiwic3RyaW5nIiwib2JqZWN0IiwiU3R5bGVTaGVldCIsImNyZWF0ZSIsImJhY2tncm91bmRDb2xvciIsIldISVRFIiwid2lkdGgiLCJDQVJEX1dJRFRIIiwibWFyZ2luVmVydGljYWwiLCJDQVJEX01BUkdJTl9WRVJUSUNBTCIsImp1c3RpZnlDb250ZW50IiwiYWxpZ25JdGVtcyIsInBhZGRpbmdIb3Jpem9udGFsIiwiQ0FSRF9GT09URVJfSE9SSVpPTlRBTCIsInBhZGRpbmdWZXJ0aWNhbCIsIkNBUkRfRk9PVEVSX1ZFUlRJQ0FMIiwiVFJBTlNQQVJFTlQiLCJ6SW5kZXgiLCJDQVJEX0FWQVRBUl9XSURUSCIsImhlaWdodCIsIkNBUkRfQVZBVEFSX0hFSUdIVCIsImJvcmRlclJhZGl1cyIsIkNBUkRfQVZBVEFSX1JBRElVUyIsIm92ZXJmbG93IiwiQ0FSRF9JTUFHRV9IRUlHSFQiLCJyb3VuZCIsIkNBUkRfUk9V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QUlOQyxlQUFlLENBQUVyQyxLQUFLLENBQUNTLEtBQU4sQ0FBWTZCLG9CQUp2QixDQUtOWCxlQUFlLENBQUUzQixLQUFLLENBQUNPLE1BQU4sQ0FBYWdDLFdBTHhCLENBTU5DLE1BQU0sQ0FBRSxDQU5GLENBUFEsQ0FlaEJ6RCxNQUFNLENBQUUsQ0FDTjhDLEtBQUssQ0FBRTdCLEtBQUssQ0FBQ1MsS0FBTixDQUFZZ0MsaUJBRGIsQ0FFTkMsTUFBTSxDQUFFMUMsS0FBSyxDQUFDUyxLQUFOLENBQVlrQyxrQkFGZCxDQUdOQyxZQUFZLENBQUU1QyxLQUFLLENBQUNTLEtBQU4sQ0FBWW9DLGtCQUhwQixDQWZRLENBb0JoQi9DLEtBQUssQ0FBRSxDQUNMbUMsY0FBYyxDQUFFLFFBRFgsQ0FwQlMsQ0F1QmhCOUIsVUFBVSxDQUFFLENBQ1ZhLFdBQVcsQ0FBRSxDQURILENBRVY4QixRQUFRLENBQUUsUUFGQSxDQXZCSSxDQTJCaEJ4RCxLQUFLLENBQUUsQ0FDTHVDLEtBQUssQ0FBRSxNQURGLENBRUxhLE1BQU0sQ0FBRTFDLEtBQUssQ0FBQ1MsS0FBTixDQUFZc0MsaUJBRmYsQ0EzQlMsQ0ErQmhCQyxLQUFLLENBQUUsQ0FDTEosWUFBWSxDQUFFNUMsS0FBSyxDQUFDUyxLQUFOLENBQVl3QyxVQURyQixDQS9CUyxDQWtDaEJDLE9BQU8sQ0FBRSxDQUNQTixZQUFZLENBQUU1QyxLQUFLLENBQUNTLEtBQU4sQ0FBWTBDLFlBRG5CLENBbENPLENBQWxCLENBRGtCLEVBQXBCLEMsYUF3Q2Usc0JBQVdyRSxJQUFYLENBQWlCZSxNQUFqQixDIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgb2JqZWN0LWN1cmx5LW5ld2xpbmUgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBJbWFnZSwgU3R5bGVTaGVldCB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG5pbXBvcnQgeyBCbG9jaywgSWNvbiwgVGV4dCB9IGZyb20gJy4vJztcbmltcG9ydCBKYXl0ZWNoVGhlbWUsIHsgd2l0aFN0eWxlcyB9IGZyb20gJy4vdGhlbWUnO1xuXG5mdW5jdGlvbiBDYXJkKHtcbiAgYXZhdGFyLFxuICBib3JkZXJsZXNzLCBcbiAgY2FwdGlvbiwgXG4gIGNhcHRpb25Db2xvcixcbiAgY2FyZCwgXG4gIGNoaWxkcmVuLFxuICBmb290ZXJTdHlsZSxcbiAgaW1hZ2UsXG4gIGltYWdlQmxvY2tTdHlsZSxcbiAgaW1hZ2VTdHlsZSxcbiAgbG9jYXRpb24sIFxuICBsb2NhdGlvbkNvbG9yLCBcbiAgc2hhZG93LFxuICBzdHlsZSwgXG4gIHN0eWxlcyxcbiAgdGl0bGUsIFxuICB0aXRsZUNvbG9yLFxuICB0aGVtZSxcbiAgLi4ucHJvcHMgXG59KSB7XG4gIGZ1bmN0aW9uIHJlbmRlckltYWdlKCkge1xuICAgIGlmICghaW1hZ2UpIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoXG4gICAgICA8QmxvY2sgY2FyZCBzdHlsZT17W3N0eWxlcy5pbWFnZUJsb2NrLCBpbWFnZUJsb2NrU3R5bGVdfT5cbiAgICAgICAgPEltYWdlIHNvdXJjZT17eyB1cmk6IGltYWdlIH19IHN0eWxlPXtbc3R5bGVzLmltYWdlLCBpbWFnZVN0eWxlXX0gLz5cbiAgICAgIDwvQmxvY2s+XG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlckF2YXRhcigpIHtcbiAgICBpZiAoIWF2YXRhcikgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIDxJbWFnZSBzb3VyY2U9e3sgdXJpOiBhdmF0YXIgfX0gc3R5bGU9e3N0eWxlcy5hdmF0YXJ9IC8+O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVyTG9jYXRpb24oKSB7XG4gICAgaWYgKCFsb2NhdGlvbikgcmV0dXJuIG51bGw7XG4gICAgaWYgKHR5cGVvZiBsb2NhdGlvbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBsb2NhdGlvbjtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPEJsb2NrIHJvdyByaWdodD5cbiAgICAgICAgPEljb25cbiAgICAgICAgICBuYW1lPVwibWFwLXBpblwiXG4gICAgICAgICAgZmFtaWx5PVwiZmVhdGhlclwiXG4gICAgICAgICAgY29sb3I9e2xvY2F0aW9uQ29sb3IgfHwgdGhlbWUuQ09MT1JTLk1VVEVEfVxuICAgICAgICAgIHNpemU9e3RoZW1lLlNJWkVTLkZPTlR9XG4gICAgICAgIC8+XG4gICAgICAgIDxUZXh0XG4gICAgICAgICAgbXV0ZWRcbiAgICAgICAgICBzaXplPXt0aGVtZS5TSVpFUy5GT05UICogMC44NzV9XG4gICAgICAgICAgY29sb3I9e2xvY2F0aW9uQ29sb3IgfHwgdGhlbWUuQ09MT1JTLk1VVEVEfVxuICAgICAgICAgIHN0eWxlPXt7IG1hcmdpbkxlZnQ6IHRoZW1lLlNJWkVTLkJBU0UgKiAwLjI1IH19PlxuICAgICAgICAgIHtsb2NhdGlvbn1cbiAgICAgICAgPC9UZXh0PlxuICAgICAgPC9CbG9jaz5cbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVyQXV0aG9yKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8QmxvY2sgZmxleCByb3cgc3R5bGU9e1tzdHlsZXMuZm9vdGVyLCBmb290ZXJTdHlsZV19IHNwYWNlPVwiYmV0d2VlblwiPlxuICAgICAgICA8QmxvY2sgZmxleD17MC4zfT57cmVuZGVyQXZhdGFyKCl9PC9CbG9jaz5cbiAgICAgICAgPEJsb2NrIGZsZXg9ezEuN30+XG4gICAgICAgICAgPEJsb2NrIHN0eWxlPXtzdHlsZXMudGl0bGV9PlxuICAgICAgICAgICAgPFRleHQgc2l6ZT17dGhlbWUuU0laRVMuRk9OVCAqIDAuODc1fSBjb2xvcj17dGl0bGVDb2xvcn0+XG4gICAgICAgICAgICAgIHt0aXRsZX1cbiAgICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgICA8L0Jsb2NrPlxuICAgICAgICAgIDxCbG9jayByb3cgc3BhY2U9XCJiZXR3ZWVuXCI+XG4gICAgICAgICAgICA8QmxvY2sgcm93IHJpZ2h0PlxuICAgICAgICAgICAgICA8VGV4dCBwIG11dGVkIHNpemU9e3RoZW1lLlNJWkVTLkZPTlQgKiAwLjg3NX0gY29sb3I9e2NhcHRpb25Db2xvcn0+XG4gICAgICAgICAgICAgICAge2NhcHRpb259XG4gICAgICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgICAgIDwvQmxvY2s+XG4gICAgICAgICAgICB7cmVuZGVyTG9jYXRpb24oKX1cbiAgICAgICAgICA8L0Jsb2NrPlxuICAgICAgICA8L0Jsb2NrPlxuICAgICAgPC9CbG9jaz5cbiAgICApO1xuICB9XG5cblxuICBjb25zdCBzdHlsZUNhcmQgPSBbYm9yZGVybGVzcyAmJiB7IGJvcmRlcldpZHRoOiAwIH0sIHN0eWxlXTtcblxuICByZXR1cm4gKFxuICAgIDxCbG9jayB7Li4ucHJvcHN9IGNhcmQ9e2NhcmR9IHNoYWRvdz17c2hhZG93fSBzdHlsZT17c3R5bGVDYXJkfT5cbiAgICAgIHtyZW5kZXJJbWFnZSgpfVxuICAgICAge3JlbmRlckF1dGhvcigpfVxuICAgICAge2NoaWxkcmVufVxuICAgIDwvQmxvY2s+XG4gICk7XG59XG5cbkNhcmQuZGVmYXVsdFByb3BzID0ge1xuICBjYXJkOiB0cnVlLFxuICBzaGFkb3c6IHRydWUsXG4gIGJvcmRlcmxlc3M6IGZhbHNlLFxuICBzdHlsZXM6IHt9LFxuICB0aGVtZTogSmF5dGVjaFRoZW1lLFxuICB0aXRsZTogJycsXG4gIHRpdGxlQ29sb3I6ICcnLFxuICBjYXB0aW9uOiAnJyxcbiAgY2FwdGlvbkNvbG9yOiAnJyxcbiAgZm9vdGVyU3R5bGU6IHt9LFxuICBhdmF0YXI6ICcnLFxufTtcblxuQ2FyZC5wcm9wVHlwZXMgPSB7XG4gIGNhcmQ6IFByb3BUeXBlcy5ib29sLFxuICBzaGFkb3c6IFByb3BUeXBlcy5ib29sLFxuICBib3JkZXJsZXNzOiBQcm9wVHlwZXMuYm9vbCxcbiAgc3R5bGVzOiBQcm9wVHlwZXMuYW55LFxuICB0aGVtZTogUHJvcFR5cGVzLmFueSxcbiAgdGl0bGU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHRpdGxlQ29sb3I6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGNhcHRpb246IFByb3BUeXBlcy5zdHJpbmcsXG4gIGNhcHRpb25Db2xvcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgYXZhdGFyOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBmb290ZXJTdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcbn07XG5cbmNvbnN0IHN0eWxlcyA9IHRoZW1lID0+XG4gIFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgICBjYXJkOiB7XG4gICAgICBib3JkZXJXaWR0aDogMCxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUuQ09MT1JTLldISVRFLFxuICAgICAgd2lkdGg6IHRoZW1lLlNJWkVTLkNBUkRfV0lEVEgsXG4gICAgICBtYXJnaW5WZXJ0aWNhbDogdGhlbWUuU0laRVMuQ0FSRF9NQVJHSU5fVkVSVElDQUwsXG4gICAgfSxcbiAgICBmb290ZXI6IHtcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1zdGFydCcsXG4gICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgIHBhZGRpbmdIb3Jpem9udGFsOiB0aGVtZS5TSVpFUy5DQVJEX0ZPT1RFUl9IT1JJWk9OVEFMLFxuICAgICAgcGFkZGluZ1ZlcnRpY2FsOiB0aGVtZS5TSVpFUy5DQVJEX0ZPT1RFUl9WRVJUSUNBTCxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUuQ09MT1JTLlRSQU5TUEFSRU5ULFxuICAgICAgekluZGV4OiAxLFxuICAgIH0sXG4gICAgYXZhdGFyOiB7XG4gICAgICB3aWR0aDogdGhlbWUuU0laRVMuQ0FSRF9BVkFUQVJfV0lEVEgsXG4gICAgICBoZWlnaHQ6IHRoZW1lLlNJWkVTLkNBUkRfQVZBVEFSX0hFSUdIVCxcbiAgICAgIGJvcmRlclJhZGl1czogdGhlbWUuU0laRVMuQ0FSRF9BVkFUQVJfUkFESVVTLFxuICAgIH0sXG4gICAgdGl0bGU6IHtcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICB9LFxuICAgIGltYWdlQmxvY2s6IHtcbiAgICAgIGJvcmRlcldpZHRoOiAwLFxuICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgIH0sXG4gICAgaW1hZ2U6IHtcbiAgICAgIHdpZHRoOiAnYXV0bycsXG4gICAgICBoZWlnaHQ6IHRoZW1lLlNJWkVTLkNBUkRfSU1BR0VfSEVJR0hULFxuICAgIH0sXG4gICAgcm91bmQ6IHtcbiAgICAgIGJvcmRlclJhZGl1czogdGhlbWUuU0laRVMuQ0FSRF9ST1VORCxcbiAgICB9LFxuICAgIHJvdW5kZWQ6IHtcbiAgICAgIGJvcmRlclJhZGl1czogdGhlbWUuU0laRVMuQ0FSRF9ST1VOREVELFxuICAgIH0sXG4gIH0pO1xuXG5leHBvcnQgZGVmYXVsdCB3aXRoU3R5bGVzKENhcmQsIHN0eWxlcyk7XG4iXX0=