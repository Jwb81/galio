var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireDefault(require("react"));var _reactNative=require("react-native");var _propTypes=_interopRequireDefault(require("prop-types"));var _=require("./");var _theme=_interopRequireWildcard(require("./theme"));var _jsxFileName="/Users/jasonbarnett/code/forks/galio/src/Checkbox.js";function Checkbox(_ref){var checkboxStyle=_ref.checkboxStyle,color=_ref.color,disabled=_ref.disabled,flexDirection=_ref.flexDirection,image=_ref.image,imageStyle=_ref.imageStyle,iconColor=_ref.iconColor,iconFamily=_ref.iconFamily,iconName=_ref.iconName,iconSize=_ref.iconSize,initialValue=_ref.initialValue,label=_ref.label,labelStyle=_ref.labelStyle,onChange=_ref.onChange,style=_ref.style,styles=_ref.styles,theme=_ref.theme;var _React$useState=_react.default.useState(initialValue),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),checked=_React$useState2[0],setChecked=_React$useState2[1];_react.default.useEffect(function(){onChange(checked);},[checked]);function spaceAround(direction){switch(direction){case'row-reverse':return{marginRight:10};case'column':return{marginTop:10};case'column-reverse':return{marginBottom:10};default:return{marginLeft:10};}}function renderLabel(){var labelStyles=[styles.textStyles,disabled&&styles.disabledLabel,labelStyle,flexDirection&&spaceAround(flexDirection)];var imageStyles=[styles.imgStyles,imageStyle,flexDirection&&spaceAround(flexDirection)];if(image&&!label){return _react.default.createElement(_reactNative.Image,{style:imageStyles,source:{uri:image},__source:{fileName:_jsxFileName,lineNumber:57}});}if(!image&&label)return _react.default.createElement(_.Text,{style:labelStyles,__source:{fileName:_jsxFileName,lineNumber:59}},label);return null;}function renderChecked(){if(checked){return _react.default.createElement(_.Icon,{name:iconName,family:iconFamily,color:iconColor,size:iconSize,__source:{fileName:_jsxFileName,lineNumber:68}});}return null;}function _onPress(){setChecked(!checked);return null;}var colorStyle=theme.COLORS[color.toUpperCase()];var checkBoxContainerStyle=[styles.container,flexDirection&&{flexDirection:flexDirection},style];var checkedInnerStyles=[styles.checked,color&&{backgroundColor:colorStyle,borderColor:colorStyle},color&&!colorStyle&&{backgroundColor:color,borderColor:color}];var checkBoxViewStyles=[styles.checkBoxView,styles.uncheckedBoxView,color&&{borderColor:colorStyle},color&&!colorStyle&&{borderColor:color},checked&&checkedInnerStyles,disabled&&styles.disabled,checkboxStyle];return _react.default.createElement(_reactNative.TouchableOpacity,{onPress:function onPress(){return _onPress();},style:checkBoxContainerStyle,activeOpacity:0.8,disabled:disabled,__source:{fileName:_jsxFileName,lineNumber:101}},_react.default.createElement(_reactNative.View,{style:checkBoxViewStyles,__source:{fileName:_jsxFileName,lineNumber:106}},renderChecked()),renderLabel());}var styles=function styles(theme){return _reactNative.StyleSheet.create({container:{flexDirection:'row',alignItems:'center',justifyContent:'flex-start'},checkBoxView:{width:theme.SIZES.CHECKBOX_WIDTH,height:theme.SIZES.CHECKBOX_HEIGHT,borderWidth:theme.SIZES.BORDER_WIDTH,alignItems:'center',justifyContent:'center',borderRadius:theme.SIZES.BORDER_RADIUS},uncheckedBoxView:{backgroundColor:theme.COLORS.TRANSPARENT,borderColor:theme.COLORS.GREY},checked:{backgroundColor:theme.COLORS.THEME,borderColor:theme.COLORS.THEME},disabled:{borderColor:theme.COLORS.MUTED},textStyles:{color:theme.COLORS.BLACK},disabledLabel:{color:theme.COLORS.MUTED,opacity:theme.SIZES.OPACITY},imgStyles:{width:200,height:200}});};Checkbox.defaultProps={checkboxStyle:null,color:'theme',disabled:false,flexDirection:'row',iconColor:'#fff',iconName:'check',iconSize:15,iconFamily:'FontAwesome',image:null,imageStyle:null,initialValue:false,label:null,labelStyle:null,onChange:function onChange(){},styles:{},theme:_theme.default};Checkbox.propTypes={checkboxStyle:_propTypes.default.any,color:_propTypes.default.oneOfType([_propTypes.default.oneOf(['primary','theme','error','warning','success','transparent','info']),_propTypes.default.string]),disabled:_propTypes.default.bool,flexDirection:_propTypes.default.oneOfType([_propTypes.default.oneOf(['row','row-reverse','column','column-reverse']),_propTypes.default.string]),iconColor:_propTypes.default.string,iconName:_propTypes.default.string,iconSize:_propTypes.default.number,iconFamily:_propTypes.default.string,image:_propTypes.default.string,imageStyle:_propTypes.default.any,initialValue:_propTypes.default.bool,label:_propTypes.default.string.isRequired,labelStyle:_propTypes.default.any,onChange:_propTypes.default.func,styles:_propTypes.default.any,theme:_propTypes.default.any};var _default=(0,_theme.withStyles)(Checkbox,styles);exports.default=_default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9DaGVja2JveC5qcyJdLCJuYW1lcyI6WyJDaGVja2JveCIsImNoZWNrYm94U3R5bGUiLCJjb2xvciIsImRpc2FibGVkIiwiZmxleERpcmVjdGlvbiIsImltYWdlIiwiaW1hZ2VTdHlsZSIsImljb25Db2xvciIsImljb25GYW1pbHkiLCJpY29uTmFtZSIsImljb25TaXplIiwiaW5pdGlhbFZhbHVlIiwibGFiZWwiLCJsYWJlbFN0eWxlIiwib25DaGFuZ2UiLCJzdHlsZSIsInN0eWxlcyIsInRoZW1lIiwiUmVhY3QiLCJ1c2VTdGF0ZSIsImNoZWNrZWQiLCJzZXRDaGVja2VkIiwidXNlRWZmZWN0Iiwic3BhY2VBcm91bmQiLCJkaXJlY3Rpb24iLCJtYXJnaW5SaWdodCIsIm1hcmdpblRvcCIsIm1hcmdpbkJvdHRvbSIsIm1hcmdpbkxlZnQiLCJyZW5kZXJMYWJlbCIsImxhYmVsU3R5bGVzIiwidGV4dFN0eWxlcyIsImRpc2FibGVkTGFiZWwiLCJpbWFnZVN0eWxlcyIsImltZ1N0eWxlcyIsInVyaSIsInJlbmRlckNoZWNrZWQiLCJfb25QcmVzcyIsImNvbG9yU3R5bGUiLCJDT0xPUlMiLCJ0b1VwcGVyQ2FzZSIsImNoZWNrQm94Q29udGFpbmVyU3R5bGUiLCJjb250YWluZXIiLCJjaGVja2VkSW5uZXJTdHlsZXMiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXJDb2xvciIsImNoZWNrQm94Vmlld1N0eWxlcyIsImNoZWNrQm94VmlldyIsInVuY2hlY2tlZEJveFZpZXciLCJTdHlsZVNoZWV0IiwiY3JlYXRlIiwiYWxpZ25JdGVtcyIsImp1c3RpZnlDb250ZW50Iiwid2lkdGgiLCJTSVpFUyIsIkNIRUNLQk9YX1dJRFRIIiwiaGVpZ2h0IiwiQ0hFQ0tCT1hfSEVJR0hUIiwiYm9yZGVyV2lkdGgiLCJCT1JERVJfV0lEVEgiLCJib3JkZXJSYWRpdXMiLCJCT1JERVJfUkFESVVTIiwiVFJBTlNQQVJFTlQiLCJHUkVZIiwiVEhFTUUiLCJNVVRFRCIsIkJMQUNLIiwib3BhY2l0eSIsIk9QQUNJVFkiLCJkZWZhdWx0UHJvcHMiLCJKYXl0ZWNoVGhlbWUiLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJhbnkiLCJvbmVPZlR5cGUiLCJvbmVPZiIsInN0cmluZyIsImJvb2wiLCJudW1iZXIiLCJpc1JlcXVpcmVkIiwiZnVuYyJdLCJtYXBwaW5ncyI6Im9WQUNBLG9EQUNBLHlDQUNBLDZEQUVBLG9CQUNBLHVELHdFQUVBLFFBQVNBLENBQUFBLFFBQVQsTUFrQkcsSUFqQkRDLENBQUFBLGFBaUJDLE1BakJEQSxhQWlCQyxDQWhCREMsS0FnQkMsTUFoQkRBLEtBZ0JDLENBZkRDLFFBZUMsTUFmREEsUUFlQyxDQWREQyxhQWNDLE1BZERBLGFBY0MsQ0FiREMsS0FhQyxNQWJEQSxLQWFDLENBWkRDLFVBWUMsTUFaREEsVUFZQyxDQVhEQyxTQVdDLE1BWERBLFNBV0MsQ0FWREMsVUFVQyxNQVZEQSxVQVVDLENBVERDLFFBU0MsTUFUREEsUUFTQyxDQVJEQyxRQVFDLE1BUkRBLFFBUUMsQ0FQREMsWUFPQyxNQVBEQSxZQU9DLENBTkRDLEtBTUMsTUFOREEsS0FNQyxDQUxEQyxVQUtDLE1BTERBLFVBS0MsQ0FKREMsUUFJQyxNQUpEQSxRQUlDLENBSERDLEtBR0MsTUFIREEsS0FHQyxDQUZEQyxNQUVDLE1BRkRBLE1BRUMsQ0FEREMsS0FDQyxNQUREQSxLQUNDLHFCQUM2QkMsZUFBTUMsUUFBTixDQUFlUixZQUFmLENBRDdCLGlFQUNNUyxPQUROLHFCQUNlQyxVQURmLHFCQUVESCxlQUFNSSxTQUFOLENBQWdCLFVBQU0sQ0FDcEJSLFFBQVEsQ0FBQ00sT0FBRCxDQUFSLENBQ0QsQ0FGRCxDQUVHLENBQUNBLE9BQUQsQ0FGSCxFQUlBLFFBQVNHLENBQUFBLFdBQVQsQ0FBcUJDLFNBQXJCLENBQWdDLENBQzlCLE9BQVFBLFNBQVIsRUFDRSxJQUFLLGFBQUwsQ0FDRSxNQUFPLENBQUVDLFdBQVcsQ0FBRSxFQUFmLENBQVAsQ0FDRixJQUFLLFFBQUwsQ0FDRSxNQUFPLENBQUVD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LENBQ2pDRixtQkFBVUcsS0FBVixDQUFnQixDQUFDLEtBQUQsQ0FBUSxhQUFSLENBQXVCLFFBQXZCLENBQWlDLGdCQUFqQyxDQUFoQixDQURpQyxDQUVqQ0gsbUJBQVVJLE1BRnVCLENBQXBCLENBUEksQ0FXbkJyRSxTQUFTLENBQUVpRSxtQkFBVUksTUFYRixDQVluQm5FLFFBQVEsQ0FBRStELG1CQUFVSSxNQVpELENBYW5CbEUsUUFBUSxDQUFFOEQsbUJBQVVNLE1BYkQsQ0FjbkJ0RSxVQUFVLENBQUVnRSxtQkFBVUksTUFkSCxDQWVuQnZFLEtBQUssQ0FBRW1FLG1CQUFVSSxNQWZFLENBZ0JuQnRFLFVBQVUsQ0FBRWtFLG1CQUFVQyxHQWhCSCxDQWlCbkI5RCxZQUFZLENBQUU2RCxtQkFBVUssSUFqQkwsQ0FrQm5CakUsS0FBSyxDQUFFNEQsbUJBQVVJLE1BQVYsQ0FBaUJHLFVBbEJMLENBbUJuQmxFLFVBQVUsQ0FBRTJELG1CQUFVQyxHQW5CSCxDQW9CbkIzRCxRQUFRLENBQUUwRCxtQkFBVVEsSUFwQkQsQ0FxQm5CaEUsTUFBTSxDQUFFd0QsbUJBQVVDLEdBckJDLENBc0JuQnhELEtBQUssQ0FBRXVELG1CQUFVQyxHQXRCRSxDQUFyQixDLGFBeUJlLHNCQUFXekUsUUFBWCxDQUFxQmdCLE1BQXJCLEMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBvYmplY3QtY3VybHktbmV3bGluZSAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFZpZXcsIFRvdWNoYWJsZU9wYWNpdHksIFN0eWxlU2hlZXQsIEltYWdlIH0gZnJvbSAncmVhY3QtbmF0aXZlJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG4vLyBnYWxpbyBkZXBlbmRlbmN5XG5pbXBvcnQgeyBJY29uLCBUZXh0IH0gZnJvbSAnLi8nO1xuaW1wb3J0IEpheXRlY2hUaGVtZSwgeyB3aXRoU3R5bGVzIH0gZnJvbSAnLi90aGVtZSc7XG5cbmZ1bmN0aW9uIENoZWNrYm94KHtcbiAgY2hlY2tib3hTdHlsZSwgXG4gIGNvbG9yLFxuICBkaXNhYmxlZCxcbiAgZmxleERpcmVjdGlvbixcbiAgaW1hZ2UsXG4gIGltYWdlU3R5bGUsXG4gIGljb25Db2xvcixcbiAgaWNvbkZhbWlseSxcbiAgaWNvbk5hbWUsXG4gIGljb25TaXplLFxuICBpbml0aWFsVmFsdWUsXG4gIGxhYmVsLFxuICBsYWJlbFN0eWxlLFxuICBvbkNoYW5nZSxcbiAgc3R5bGUsXG4gIHN0eWxlcyxcbiAgdGhlbWUsXG59KSB7XG4gIGNvbnN0IFtjaGVja2VkLCBzZXRDaGVja2VkXSA9IFJlYWN0LnVzZVN0YXRlKGluaXRpYWxWYWx1ZSk7XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgb25DaGFuZ2UoY2hlY2tlZCk7XG4gIH0sIFtjaGVja2VkXSk7XG4gIC8vIGFkZGluZyB0aGUgbmVjZXNzYXJ5IG1hcmdpbnMgZGVwZW5kaW5nIG9uIHRoZSBmbGV4RGlyZWN0aW9uXG4gIGZ1bmN0aW9uIHNwYWNlQXJvdW5kKGRpcmVjdGlvbikge1xuICAgIHN3aXRjaCAoZGlyZWN0aW9uKSB7XG4gICAgICBjYXNlICdyb3ctcmV2ZXJzZSc6XG4gICAgICAgIHJldHVybiB7IG1hcmdpblJpZ2h0OiAxMCB9O1xuICAgICAgY2FzZSAnY29sdW1uJzpcbiAgICAgICAgcmV0dXJuIHsgbWFyZ2luVG9wOiAxMCB9O1xuICAgICAgY2FzZSAnY29sdW1uLXJldmVyc2UnOlxuICAgICAgICByZXR1cm4geyBtYXJnaW5Cb3R0b206IDEwIH07XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4geyBtYXJnaW5MZWZ0OiAxMCB9O1xuICAgIH1cbiAgfVxuXG4gIC8vIHJlbmRlcmluZyB0aGUgaW1hZ2UvdGV4dCBmb3IgdGhlIGNoZWNrYm94XG4gIGZ1bmN0aW9uIHJlbmRlckxhYmVsKCkge1xuICAgIGNvbnN0IGxhYmVsU3R5bGVzID0gW1xuICAgICAgc3R5bGVzLnRleHRTdHlsZXMsXG4gICAgICBkaXNhYmxlZCAmJiBzdHlsZXMuZGlzYWJsZWRMYWJlbCxcbiAgICAgIGxhYmVsU3R5bGUsXG4gICAgICBmbGV4RGlyZWN0aW9uICYmIHNwYWNlQXJvdW5kKGZsZXhEaXJlY3Rpb24pLFxuICAgIF07XG4gICAgY29uc3QgaW1hZ2VTdHlsZXMgPSBbc3R5bGVzLmltZ1N0eWxlcywgaW1hZ2VTdHlsZSwgZmxleERpcmVjdGlvbiAmJiBzcGFjZUFyb3VuZChmbGV4RGlyZWN0aW9uKV07XG5cbiAgICBpZiAoaW1hZ2UgJiYgIWxhYmVsKSB7XG4gICAgICByZXR1cm4gPEltYWdlIHN0eWxlPXtpbWFnZVN0eWxlc30gc291cmNlPXt7IHVyaTogaW1hZ2UgfX0gLz47XG4gICAgfVxuICAgIGlmICghaW1hZ2UgJiYgbGFiZWwpIHJldHVybiA8VGV4dCBzdHlsZT17bGFiZWxTdHlsZXN9PntsYWJlbH08L1RleHQ+O1xuICAgIC8vIGlmICghbGFiZWwgJiYgIWltYWdlKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIGFkZGluZyB0aGUgY2hlY2sgaWNvblxuICBmdW5jdGlvbiByZW5kZXJDaGVja2VkKCkge1xuXG4gICAgaWYgKGNoZWNrZWQpIHtcbiAgICAgIHJldHVybiA8SWNvbiBuYW1lPXtpY29uTmFtZX0gZmFtaWx5PXtpY29uRmFtaWx5fSBjb2xvcj17aWNvbkNvbG9yfSBzaXplPXtpY29uU2l6ZX0gLz47XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBvblByZXNzIGZ1bmN0aW9uIHRoYXQgY2hhbmdlcyB0aGUgY29tcG9uZW50J3Mgc3RhdGUgYW5kIGNhbGxiYWNrcyB0aGUgb25DaGFuZ2UgcHJvcFxuICBmdW5jdGlvbiBfb25QcmVzcygpIHtcbiAgICBzZXRDaGVja2VkKCFjaGVja2VkKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IGNvbG9yU3R5bGUgPSB0aGVtZS5DT0xPUlNbY29sb3IudG9VcHBlckNhc2UoKV07IC8vIHRoaXMgc2V0cyB0aGUgY29ycmVjdCBjb2xvciBmb3IgdGhlIHRoZW1lIGZpbGVcblxuICBjb25zdCBjaGVja0JveENvbnRhaW5lclN0eWxlID0gW3N0eWxlcy5jb250YWluZXIsIGZsZXhEaXJlY3Rpb24gJiYgeyBmbGV4RGlyZWN0aW9uIH0sIHN0eWxlXTtcblxuICBjb25zdCBjaGVja2VkSW5uZXJTdHlsZXMgPSBbXG4gICAgc3R5bGVzLmNoZWNrZWQsXG4gICAgY29sb3IgJiYgeyBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yU3R5bGUsIGJvcmRlckNvbG9yOiBjb2xvclN0eWxlIH0sXG4gICAgY29sb3IgJiYgIWNvbG9yU3R5bGUgJiYgeyBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yLCBib3JkZXJDb2xvcjogY29sb3IgfSxcbiAgXTtcblxuICBjb25zdCBjaGVja0JveFZpZXdTdHlsZXMgPSBbXG4gICAgc3R5bGVzLmNoZWNrQm94VmlldyxcbiAgICBzdHlsZXMudW5jaGVja2VkQm94VmlldyxcbiAgICBjb2xvciAmJiB7IGJvcmRlckNvbG9yOiBjb2xvclN0eWxlIH0sXG4gICAgY29sb3IgJiYgIWNvbG9yU3R5bGUgJiYgeyBib3JkZXJDb2xvcjogY29sb3IgfSxcbiAgICBjaGVja2VkICYmIGNoZWNrZWRJbm5lclN0eWxlcywgLy8gYXBwbHkgdGhlIGNrZWNrZWQgc3R5bGluZ1xuICAgIGRpc2FibGVkICYmIHN0eWxlcy5kaXNhYmxlZCxcbiAgICBjaGVja2JveFN0eWxlLFxuICBdO1xuXG4gIHJldHVybiAoXG4gICAgPFRvdWNoYWJsZU9wYWNpdHlcbiAgICAgIG9uUHJlc3M9eygpID0+IF9vblByZXNzKCl9XG4gICAgICBzdHlsZT17Y2hlY2tCb3hDb250YWluZXJTdHlsZX1cbiAgICAgIGFjdGl2ZU9wYWNpdHk9ezAuOH1cbiAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH0+XG4gICAgICA8VmlldyBzdHlsZT17Y2hlY2tCb3hWaWV3U3R5bGVzfT57cmVuZGVyQ2hlY2tlZCgpfTwvVmlldz5cbiAgICAgIHtyZW5kZXJMYWJlbCgpfVxuICAgIDwvVG91Y2hhYmxlT3BhY2l0eT5cbiAgKTtcbn1cblxuY29uc3Qgc3R5bGVzID0gdGhlbWUgPT5cbiAgU3R5bGVTaGVldC5jcmVhdGUoe1xuICAgIGNvbnRhaW5lcjoge1xuICAgICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1zdGFydCcsXG4gICAgfSxcbiAgICBjaGVja0JveFZpZXc6IHtcbiAgICAgIHdpZHRoOiB0aGVtZS5TSVpFUy5DSEVDS0JPWF9XSURUSCxcbiAgICAgIGhlaWdodDogdGhlbWUuU0laRVMuQ0hFQ0tCT1hfSEVJR0hULFxuICAgICAgYm9yZGVyV2lkdGg6IHRoZW1lLlNJWkVTLkJPUkRFUl9XSURUSCxcbiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgYm9yZGVyUmFkaXVzOiB0aGVtZS5TSVpFUy5CT1JERVJfUkFESVVTLFxuICAgIH0sXG4gICAgdW5jaGVja2VkQm94Vmlldzoge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5DT0xPUlMuVFJBTlNQQVJFTlQsXG4gICAgICBib3JkZXJDb2xvcjogdGhlbWUuQ09MT1JTLkdSRVksXG4gICAgfSxcbiAgICBjaGVja2VkOiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLkNPTE9SUy5USEVNRSxcbiAgICAgIGJvcmRlckNvbG9yOiB0aGVtZS5DT0xPUlMuVEhFTUUsXG4gICAgfSxcbiAgICBkaXNhYmxlZDoge1xuICAgICAgYm9yZGVyQ29sb3I6IHRoZW1lLkNPTE9SUy5NVVRFRCxcbiAgICB9LFxuICAgIHRleHRTdHlsZXM6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5DT0xPUlMuQkxBQ0ssXG4gICAgfSxcbiAgICBkaXNhYmxlZExhYmVsOiB7XG4gICAgICBjb2xvcjogdGhlbWUuQ09MT1JTLk1VVEVELFxuICAgICAgb3BhY2l0eTogdGhlbWUuU0laRVMuT1BBQ0lUWSxcbiAgICB9LFxuICAgIGltZ1N0eWxlczoge1xuICAgICAgd2lkdGg6IDIwMCxcbiAgICAgIGhlaWdodDogMjAwLFxuICAgIH0sXG4gIH0pO1xuXG5DaGVja2JveC5kZWZhdWx0UHJvcHMgPSB7XG4gIGNoZWNrYm94U3R5bGU6IG51bGwsXG4gIGNvbG9yOiAndGhlbWUnLFxuICBkaXNhYmxlZDogZmFsc2UsXG4gIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICBpY29uQ29sb3I6ICcjZmZmJyxcbiAgaWNvbk5hbWU6ICdjaGVjaycsXG4gIGljb25TaXplOiAxNSxcbiAgaWNvbkZhbWlseTogJ0ZvbnRBd2Vzb21lJyxcbiAgaW1hZ2U6IG51bGwsXG4gIGltYWdlU3R5bGU6IG51bGwsXG4gIGluaXRpYWxWYWx1ZTogZmFsc2UsXG4gIGxhYmVsOiBudWxsLFxuICBsYWJlbFN0eWxlOiBudWxsLFxuICBvbkNoYW5nZTogKCkgPT4ge30sXG4gIHN0eWxlczoge30sXG4gIHRoZW1lOiBKYXl0ZWNoVGhlbWUsXG59O1xuXG5DaGVja2JveC5wcm9wVHlwZXMgPSB7XG4gIGNoZWNrYm94U3R5bGU6IFByb3BUeXBlcy5hbnksXG4gIGNvbG9yOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICBQcm9wVHlwZXMub25lT2YoWydwcmltYXJ5JywgJ3RoZW1lJywgJ2Vycm9yJywgJ3dhcm5pbmcnLCAnc3VjY2VzcycsICd0cmFuc3BhcmVudCcsICdpbmZvJ10pLFxuICAgIFByb3BUeXBlcy5zdHJpbmcsXG4gIF0pLFxuICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsXG4gIGZsZXhEaXJlY3Rpb246IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xuICAgIFByb3BUeXBlcy5vbmVPZihbJ3JvdycsICdyb3ctcmV2ZXJzZScsICdjb2x1bW4nLCAnY29sdW1uLXJldmVyc2UnXSksXG4gICAgUHJvcFR5cGVzLnN0cmluZyxcbiAgXSksXG4gIGljb25Db2xvcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgaWNvbk5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGljb25TaXplOiBQcm9wVHlwZXMubnVtYmVyLFxuICBpY29uRmFtaWx5OiBQcm9wVHlwZXMuc3RyaW5nLFxuICBpbWFnZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgaW1hZ2VTdHlsZTogUHJvcFR5cGVzLmFueSwgLy8gc3R5bGUgdGhlIGltYWdlXG4gIGluaXRpYWxWYWx1ZTogUHJvcFR5cGVzLmJvb2wsXG4gIGxhYmVsOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGxhYmVsU3R5bGU6IFByb3BUeXBlcy5hbnksIC8vIHN0eWxlIHRoZSB0ZXh0XG4gIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgc3R5bGVzOiBQcm9wVHlwZXMuYW55LCAvLyBzdHlsZSB0aGUgd2hvbGUgVmlldyBlbGVtZW50LFxuICB0aGVtZTogUHJvcFR5cGVzLmFueSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHdpdGhTdHlsZXMoQ2hlY2tib3gsIHN0eWxlcyk7XG4iXX0=