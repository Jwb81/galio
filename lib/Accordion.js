var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _propTypes=_interopRequireDefault(require("prop-types"));var _Block=_interopRequireDefault(require("./Block"));var _Icon=_interopRequireDefault(require("./Icon"));var _Text=_interopRequireDefault(require("./Text"));var _theme=_interopRequireDefault(require("./theme"));var _jsxFileName="/Users/jasonbarnett/code/forks/galio/src/Accordion.js";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var _Dimensions$get=_reactNative.Dimensions.get('screen'),width=_Dimensions$get.width;function AccordionContent(_ref){var content=_ref.content,contentStyle=_ref.contentStyle;return _react.default.createElement(_Text.default,{style:[styles.content,contentStyle],__source:{fileName:_jsxFileName,lineNumber:14}},content);}function AccordionHeader(_ref2){var expanded=_ref2.expanded,expandedIcon=_ref2.expandedIcon,headerStyle=_ref2.headerStyle,icon=_ref2.icon,title=_ref2.title,chapterIcon=_ref2.chapterIcon;return _react.default.createElement(_Block.default,{row:true,middle:true,style:[{padding:6},headerStyle],__source:{fileName:_jsxFileName,lineNumber:19}},chapterIcon?_react.default.createElement(_Icon.default,{name:chapterIcon.name,family:chapterIcon.family,size:chapterIcon.size||14,color:chapterIcon.color||_theme.default.COLORS.PRIMARY,style:chapterIcon.style||{marginRight:5},__source:{fileName:_jsxFileName,lineNumber:21}}):null,_react.default.createElement(_Block.default,{row:true,space:"between",middle:true,flex:true,__source:{fileName:_jsxFileName,lineNumber:29}},_react.default.createElement(_Text.default,{size:16,__source:{fileName:_jsxFileName,lineNumber:30}},title),expanded?expandedIcon||_react.default.createElement(_Icon.default,{name:"keyboard-arrow-up",family:"material",size:16,color:_theme.default.COLORS.MUTED,__source:{fileName:_jsxFileName,lineNumber:33}}):icon||_react.default.createElement(_Icon.default,{name:"keyboard-arrow-down",family:"material",size:16,color:_theme.default.COLORS.MUTED,__source:{fileName:_jsxFileName,lineNumber:41}})));}function AccordionAnimation(_ref3){var children=_ref3.children,style=_ref3.style;var _useState=(0,_react.useState)(new _reactNative.Animated.Value(0.3)),_useState2=(0,_slicedToArray2.default)(_useState,2),fade=_useState2[0],setFade=_useState2[1];(0,_react.useEffect)(function(){_reactNative.Animated.timing(fade,{toValue:1,duration:400,useNativeDriver:true}).start();});return _react.default.createElement(_reactNative.Animated.View,{style:_objectSpread({},style,{opacity:fade}),__source:{fileName:_jsxFileName,lineNumber:64}},children);}function AccordionItem(_ref4){var expanded=_ref4.expanded,expandedIcon=_ref4.expandedIcon,headerStyle=_ref4.headerStyle,contentStyle=_ref4.contentStyle,icon=_ref4.icon,index=_ref4.index,item=_ref4.item,onAccordionClose=_ref4.onAccordionClose,onAccordionOpen=_ref4.onAccordionOpen,setSelected=_ref4.setSelected;return _react.default.createElement(_Block.default,{__source:{fileName:_jsxFileName,lineNumber:80}},_react.default.createElement(_reactNative.TouchableWithoutFeedback,{onPress:function onPress(){onAccordionOpen&&!expanded&&onAccordionOpen(item,index);onAccordionClose&&expanded&&onAccordionClose(item,index);setSelected(index);},__source:{fileName:_jsxFileName,lineNumber:81}},_react.default.createElement(_Block.default,{__source:{fileName:_jsxFileName,lineNumber:87}},_react.default.createElement(AccordionHeader,{expanded:expanded,expandedIcon:expandedIcon,headerStyle:headerStyle,icon:icon,title:item.title,chapterIcon:item.icon,__source:{fileName:_jsxFileName,lineNumber:88}}))),expanded?_react.default.createElement(AccordionAnimation,{__source:{fileName:_jsxFileName,lineNumber:99}},_react.default.createElement(AccordionContent,{content:item.content,contentStyle:contentStyle,__source:{fileName:_jsxFileName,lineNumber:100}})):null);}function Accordion(_ref5){var theme=_ref5.theme,dataArray=_ref5.dataArray,icon=_ref5.icon,expandedIcon=_ref5.expandedIcon,headerStyle=_ref5.headerStyle,contentStyle=_ref5.contentStyle,opened=_ref5.opened,onAccordionOpen=_ref5.onAccordionOpen,onAccordionClose=_ref5.onAccordionClose,listStyle=_ref5.listStyle,style=_ref5.style;var _useState3=(0,_react.useState)(opened),_useState4=(0,_slicedToArray2.default)(_useState3,2),selected=_useState4[0],_setSelected=_useState4[1];return _react.default.createElement(_Block.default,{style:[styles.container,style],__source:{fileName:_jsxFileName,lineNumber:123}},_react.default.createElement(_reactNative.FlatList,{data:dataArray,extraData:selected,style:listStyle,keyExtractor:function keyExtractor(item,index){return String(index);},renderItem:function renderItem(_ref6){var item=_ref6.item,index=_ref6.index;return _react.default.createElement(AccordionItem,{key:String(index),expanded:selected===index,expandedIcon:expandedIcon,icon:icon,headerStyle:headerStyle,contentStyle:contentStyle,onAccordionOpen:onAccordionOpen,onAccordionClose:onAccordionClose,item:item,index:index,setSelected:function setSelected(s){return _setSelected(selected===s?undefined:s);},__source:{fileName:_jsxFileName,lineNumber:130}});},__source:{fileName:_jsxFileName,lineNumber:124}}));}Accordion.propTypes={theme:_propTypes.default.any,dataArray:_propTypes.default.array,opened:_propTypes.default.number,listStyle:_propTypes.default.any,style:_propTypes.default.any,icon:_propTypes.default.any,expandedIcon:_propTypes.default.any,headerStyle:_propTypes.default.any,contentStyle:_propTypes.default.any,onAccordionClose:_propTypes.default.func,onAccordionOpen:_propTypes.default.func};Accordion.defaultProps={theme:_theme.default,opened:0};var styles=_reactNative.StyleSheet.create({container:{flex:1,width:width*0.8,borderRadius:16,padding:8,shadowColor:'black',shadowOffset:{width:0,height:1},shadowOpacity:0.2,shadowRadius:4,backgroundColor:'white'},header:{padding:6},content:{padding:10}});var _default=Accordion;exports.default=_default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9BY2NvcmRpb24uanMiXSwibmFtZXMiOlsiRGltZW5zaW9ucyIsImdldCIsIndpZHRoIiwiQWNjb3JkaW9uQ29udGVudCIsImNvbnRlbnQiLCJjb250ZW50U3R5bGUiLCJzdHlsZXMiLCJBY2NvcmRpb25IZWFkZXIiLCJleHBhbmRlZCIsImV4cGFuZGVkSWNvbiIsImhlYWRlclN0eWxlIiwiaWNvbiIsInRpdGxlIiwiY2hhcHRlckljb24iLCJwYWRkaW5nIiwibmFtZSIsImZhbWlseSIsInNpemUiLCJjb2xvciIsIkpheXRlY2hUaGVtZSIsIkNPTE9SUyIsIlBSSU1BUlkiLCJzdHlsZSIsIm1hcmdpblJpZ2h0IiwiTVVURUQiLCJBY2NvcmRpb25BbmltYXRpb24iLCJjaGlsZHJlbiIsIkFuaW1hdGVkIiwiVmFsdWUiLCJmYWRlIiwic2V0RmFkZSIsInRpbWluZyIsInRvVmFsdWUiLCJkdXJhdGlvbiIsInVzZU5hdGl2ZURyaXZlciIsInN0YXJ0Iiwib3BhY2l0eSIsIkFjY29yZGlvbkl0ZW0iLCJpbmRleCIsIml0ZW0iLCJvbkFjY29yZGlvbkNsb3NlIiwib25BY2NvcmRpb25PcGVuIiwic2V0U2VsZWN0ZWQiLCJBY2NvcmRpb24iLCJ0aGVtZSIsImRhdGFBcnJheSIsIm9wZW5lZCIsImxpc3RTdHlsZSIsInNlbGVjdGVkIiwiY29udGFpbmVyIiwiU3RyaW5nIiwicyIsInVuZGVmaW5lZCIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsImFueSIsImFycmF5IiwibnVtYmVyIiwiZnVuYyIsImRlZmF1bHRQcm9wcyIsIlN0eWxlU2hlZXQiLCJjcmVhdGUiLCJmbGV4IiwiYm9yZGVyUmFkaXVzIiwic2hhZG93Q29sb3IiLCJzaGFkb3dPZmZzZXQiLCJoZWlnaHQiLCJzaGFkb3dPcGFjaXR5Iiwic2hhZG93UmFkaXVzIiwiYmFja2dyb3VuZENvbG9yIiwiaGVhZGVyIl0sIm1hcHBpbmdzIjoia2JBQUEscURBQ0EseUNBQ0EsNkRBRUEsc0RBQ0Esb0RB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ZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEFuaW1hdGVkLCBUb3VjaGFibGVXaXRob3V0RmVlZGJhY2ssIEZsYXRMaXN0LCBTdHlsZVNoZWV0LCBEaW1lbnNpb25zIH0gZnJvbSAncmVhY3QtbmF0aXZlJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmltcG9ydCBCbG9jayBmcm9tICcuL0Jsb2NrJztcbmltcG9ydCBJY29uIGZyb20gJy4vSWNvbic7XG5pbXBvcnQgVGV4dCBmcm9tICcuL1RleHQnO1xuaW1wb3J0IEpheXRlY2hUaGVtZSBmcm9tICcuL3RoZW1lJztcblxuY29uc3QgeyB3aWR0aCB9ID0gRGltZW5zaW9ucy5nZXQoJ3NjcmVlbicpO1xuXG4vL1xuZnVuY3Rpb24gQWNjb3JkaW9uQ29udGVudCh7IGNvbnRlbnQsIGNvbnRlbnRTdHlsZSB9KSB7XG4gIHJldHVybiA8VGV4dCBzdHlsZT17W3N0eWxlcy5jb250ZW50LCBjb250ZW50U3R5bGVdfT57Y29udGVudH08L1RleHQ+O1xufVxuXG5mdW5jdGlvbiBBY2NvcmRpb25IZWFkZXIoeyBleHBhbmRlZCwgZXhwYW5kZWRJY29uLCBoZWFkZXJTdHlsZSwgaWNvbiwgdGl0bGUsIGNoYXB0ZXJJY29uIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8QmxvY2sgcm93IG1pZGRsZSBzdHlsZT17W3sgcGFkZGluZzogNiB9LCBoZWFkZXJTdHlsZV19PlxuICAgICAge2NoYXB0ZXJJY29uID8gKFxuICAgICAgICA8SWNvblxuICAgICAgICAgIG5hbWU9e2NoYXB0ZXJJY29uLm5hbWV9XG4gICAgICAgICAgZmFtaWx5PXtjaGFwdGVySWNvbi5mYW1pbHl9XG4gICAgICAgICAgc2l6ZT17Y2hhcHRlckljb24uc2l6ZSB8fCAxNH1cbiAgICAgICAgICBjb2xvcj17Y2hhcHRlckljb24uY29sb3IgfHwgSmF5dGVjaFRoZW1lLkNPTE9SUy5QUklNQVJZfVxuICAgICAgICAgIHN0eWxlPXtjaGFwdGVySWNvbi5zdHlsZSB8fCB7IG1hcmdpblJpZ2h0OiA1IH19XG4gICAgICAgIC8+XG4gICAgICApIDogbnVsbH1cbiAgICAgIDxCbG9jayByb3cgc3BhY2U9XCJiZXR3ZWVuXCIgbWlkZGxlIGZsZXg+XG4gICAgICAgIDxUZXh0IHNpemU9ezE2fT57dGl0bGV9PC9UZXh0PlxuICAgICAgICB7ZXhwYW5kZWRcbiAgICAgICAgICA/IGV4cGFuZGVkSWNvbiB8fCAoXG4gICAgICAgICAgICAgIDxJY29uXG4gICAgICAgICAgICAgICAgbmFtZT1cImtleWJvYXJkLWFycm93LXVwXCJcbiAgICAgICAgICAgICAgICBmYW1pbHk9XCJtYXRlcmlhbFwiXG4gICAgICAgICAgICAgICAgc2l6ZT17MTZ9XG4gICAgICAgICAgICAgICAgY29sb3I9e0pheXRlY2hUaGVtZS5DT0xPUlMuTVVURUR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBpY29uIHx8IChcbiAgICAgICAgICAgICAgPEljb25cbiAgICAgICAgICAgICAgICBuYW1lPVwia2V5Ym9hcmQtYXJyb3ctZG93blwiXG4gICAgICAgICAgICAgICAgZmFtaWx5PVwibWF0ZXJpYWxcIlxuICAgICAgICAgICAgICAgIHNpemU9ezE2fVxuICAgICAgICAgICAgICAgIGNvbG9yPXtKYXl0ZWNoVGhlbWUuQ09MT1JTLk1VVEVEfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKX1cbiAgICAgIDwvQmxvY2s+XG4gICAgPC9CbG9jaz5cbiAgKTtcbn1cblxuZnVuY3Rpb24gQWNjb3JkaW9uQW5pbWF0aW9uKHsgY2hpbGRyZW4sIHN0eWxlIH0pIHtcbiAgY29uc3QgW2ZhZGUsIHNldEZhZGVdID0gdXNlU3RhdGUobmV3IEFuaW1hdGVkLlZhbHVlKDAuMykpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgQW5pbWF0ZWQudGltaW5nKGZhZGUsIHtcbiAgICAgIHRvVmFsdWU6IDEsXG4gICAgICBkdXJhdGlvbjogNDAwLFxuICAgICAgdXNlTmF0aXZlRHJpdmVyOiB0cnVlLFxuICAgIH0pLnN0YXJ0KCk7XG4gIH0pO1xuXG4gIHJldHVybiA8QW5pbWF0ZWQuVmlldyBzdHlsZT17eyAuLi5zdHlsZSwgb3BhY2l0eTogZmFkZSB9fT57Y2hpbGRyZW59PC9BbmltYXRlZC5WaWV3Pjtcbn1cblxuZnVuY3Rpb24gQWNjb3JkaW9uSXRlbSh7XG4gIGV4cGFuZGVkLFxuICBleHBhbmRlZEljb24sXG4gIGhlYWRlclN0eWxlLFxuICBjb250ZW50U3R5bGUsXG4gIGljb24sXG4gIGluZGV4LFxuICBpdGVtLFxuICBvbkFjY29yZGlvbkNsb3NlLFxuICBvbkFjY29yZGlvbk9wZW4sXG4gIHNldFNlbGVjdGVkLFxufSkge1xuICByZXR1cm4gKFxuICAgIDxCbG9jaz5cbiAgICAgIDxUb3VjaGFibGVXaXRob3V0RmVlZGJhY2tcbiAgICAgICAgb25QcmVzcz17KCkgPT4ge1xuICAgICAgICAgIG9uQWNjb3JkaW9uT3BlbiAmJiAhZXhwYW5kZWQgJiYgb25BY2NvcmRpb25PcGVuKGl0ZW0sIGluZGV4KTtcbiAgICAgICAgICBvbkFjY29yZGlvbkNsb3NlICYmIGV4cGFuZGVkICYmIG9uQWNjb3JkaW9uQ2xvc2UoaXRlbSwgaW5kZXgpO1xuICAgICAgICAgIHNldFNlbGVjdGVkKGluZGV4KTtcbiAgICAgICAgfX0+XG4gICAgICAgIDxCbG9jaz5cbiAgICAgICAgICA8QWNjb3JkaW9uSGVhZGVyXG4gICAgICAgICAgICBleHBhbmRlZD17ZXhwYW5kZWR9XG4gICAgICAgICAgICBleHBhbmRlZEljb249e2V4cGFuZGVkSWNvbn1cbiAgICAgICAgICAgIGhlYWRlclN0eWxlPXtoZWFkZXJTdHlsZX1cbiAgICAgICAgICAgIGljb249e2ljb259XG4gICAgICAgICAgICB0aXRsZT17aXRlbS50aXRsZX1cbiAgICAgICAgICAgIGNoYXB0ZXJJY29uPXtpdGVtLmljb259XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9CbG9jaz5cbiAgICAgIDwvVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrPlxuICAgICAge2V4cGFuZGVkID8gKFxuICAgICAgICA8QWNjb3JkaW9uQW5pbWF0aW9uPlxuICAgICAgICAgIDxBY2NvcmRpb25Db250ZW50IGNvbnRlbnQ9e2l0ZW0uY29udGVudH0gY29udGVudFN0eWxlPXtjb250ZW50U3R5bGV9IC8+XG4gICAgICAgIDwvQWNjb3JkaW9uQW5pbWF0aW9uPlxuICAgICAgKSA6IG51bGx9XG4gICAgPC9CbG9jaz5cbiAgKTtcbn1cblxuZnVuY3Rpb24gQWNjb3JkaW9uKHtcbiAgdGhlbWUsXG4gIGRhdGFBcnJheSxcbiAgaWNvbixcbiAgZXhwYW5kZWRJY29uLFxuICBoZWFkZXJTdHlsZSxcbiAgY29udGVudFN0eWxlLFxuICBvcGVuZWQsXG4gIG9uQWNjb3JkaW9uT3BlbixcbiAgb25BY2NvcmRpb25DbG9zZSxcbiAgbGlzdFN0eWxlLFxuICBzdHlsZSxcbn0pIHtcbiAgY29uc3QgW3NlbGVjdGVkLCBzZXRTZWxlY3RlZF0gPSB1c2VTdGF0ZShvcGVuZWQpO1xuXG4gIHJldHVybiAoXG4gICAgPEJsb2NrIHN0eWxlPXtbc3R5bGVzLmNvbnRhaW5lciwgc3R5bGVdfT5cbiAgICAgIDxGbGF0TGlzdFxuICAgICAgICBkYXRhPXtkYXRhQXJyYXl9XG4gICAgICAgIGV4dHJhRGF0YT17c2VsZWN0ZWR9XG4gICAgICAgIHN0eWxlPXtsaXN0U3R5bGV9XG4gICAgICAgIGtleUV4dHJhY3Rvcj17KGl0ZW0sIGluZGV4KSA9PiBTdHJpbmcoaW5kZXgpfVxuICAgICAgICByZW5kZXJJdGVtPXsoeyBpdGVtLCBpbmRleCB9KSA9PiAoXG4gICAgICAgICAgPEFjY29yZGlvbkl0ZW1cbiAgICAgICAgICAgIGtleT17U3RyaW5nKGluZGV4KX1cbiAgICAgICAgICAgIGV4cGFuZGVkPXtzZWxlY3RlZCA9PT0gaW5kZXh9XG4gICAgICAgICAgICBleHBhbmRlZEljb249e2V4cGFuZGVkSWNvbn1cbiAgICAgICAgICAgIGljb249e2ljb259XG4gICAgICAgICAgICBoZWFkZXJTdHlsZT17aGVhZGVyU3R5bGV9XG4gICAgICAgICAgICBjb250ZW50U3R5bGU9e2NvbnRlbnRTdHlsZX1cbiAgICAgICAgICAgIG9uQWNjb3JkaW9uT3Blbj17b25BY2NvcmRpb25PcGVufVxuICAgICAgICAgICAgb25BY2NvcmRpb25DbG9zZT17b25BY2NvcmRpb25DbG9zZX1cbiAgICAgICAgICAgIGl0ZW09e2l0ZW19XG4gICAgICAgICAgICBpbmRleD17aW5kZXh9XG4gICAgICAgICAgICBzZXRTZWxlY3RlZD17cyA9PiBzZXRTZWxlY3RlZChzZWxlY3RlZCA9PT0gcyA/IHVuZGVmaW5lZCA6IHMpfVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICAvPlxuICAgIDwvQmxvY2s+XG4gICk7XG59XG5cbkFjY29yZGlvbi5wcm9wVHlwZXMgPSB7XG4gIHRoZW1lOiBQcm9wVHlwZXMuYW55LFxuICBkYXRhQXJyYXk6IFByb3BUeXBlcy5hcnJheSxcbiAgb3BlbmVkOiBQcm9wVHlwZXMubnVtYmVyLFxuICBsaXN0U3R5bGU6IFByb3BUeXBlcy5hbnksXG4gIHN0eWxlOiBQcm9wVHlwZXMuYW55LFxuICBpY29uOiBQcm9wVHlwZXMuYW55LFxuICBleHBhbmRlZEljb246IFByb3BUeXBlcy5hbnksXG4gIGhlYWRlclN0eWxlOiBQcm9wVHlwZXMuYW55LFxuICBjb250ZW50U3R5bGU6IFByb3BUeXBlcy5hbnksXG4gIG9uQWNjb3JkaW9uQ2xvc2U6IFByb3BUeXBlcy5mdW5jLFxuICBvbkFjY29yZGlvbk9wZW46IFByb3BUeXBlcy5mdW5jLFxufTtcblxuQWNjb3JkaW9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgdGhlbWU6IEpheXRlY2hUaGVtZSxcbiAgb3BlbmVkOiAwLFxufTtcblxuY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICBjb250YWluZXI6IHtcbiAgICBmbGV4OiAxLFxuICAgIHdpZHRoOiB3aWR0aCAqIDAuOCxcbiAgICBib3JkZXJSYWRpdXM6IDE2LFxuICAgIHBhZGRpbmc6IDgsXG4gICAgc2hhZG93Q29sb3I6ICdibGFjaycsXG4gICAgc2hhZG93T2Zmc2V0OiB7IHdpZHRoOiAwLCBoZWlnaHQ6IDEgfSxcbiAgICBzaGFkb3dPcGFjaXR5OiAwLjIsXG4gICAgc2hhZG93UmFkaXVzOiA0LFxuICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcbiAgfSxcbiAgaGVhZGVyOiB7XG4gICAgcGFkZGluZzogNixcbiAgfSxcbiAgY29udGVudDoge1xuICAgIHBhZGRpbmc6IDEwLFxuICB9LFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEFjY29yZGlvbjtcbiJdfQ==