var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _propTypes=_interopRequireDefault(require("prop-types"));var _theme=_interopRequireWildcard(require("./theme"));var _jsxFileName="/Users/jasonbarnett/code/forks/galio/src/Slider.js";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var Slider=function(_PureComponent){(0,_inherits2.default)(Slider,_PureComponent);function Slider(props){var _this;(0,_classCallCheck2.default)(this,Slider);_this=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(Slider).call(this,props));_this._getRatio=function(value){return(value-_this.props.minimumValue)/(_this.props.maximumValue-_this.props.minimumValue);};_this._getThumbLeft=function(value){return _this._getRatio(value)*(_this.state.containerSize.width-_this.state.thumbSize.width);};_this._getCurrentVal=function(){return _this.position.__getValue();};_this._setCurrentValue=function(value){return _this.position.setValue(value);};_this._getValue=function(gestureState){var length=_this.state.containerSize.width-_this.state.thumbSize.width;var thumbLeft=_this._previousLeft+gestureState.dx;var ratio=thumbLeft/length;if(_this.props.step){return Math.max(_this.props.minimumValue,Math.min(_this.props.maximumValue,_this.props.minimumValue+Math.round(ratio*(_this.props.maximumValue-_this.props.minimumValue)/_this.props.step)*_this.props.step));}return Math.max(_this.props.minimumValue,Math.min(_this.props.maximumValue,ratio*(_this.props.maximumValue-_this.props.minimumValue)+_this.props.minimumValue));};_this._measureContainer=function(x){_this._handleMeasure('containerSize',x);};_this._measureTrack=function(x){_this._handleMeasure('trackSize',x);};_this._measureThumb=function(x){_this._handleMeasure('thumbSize',x);};_this._handleMeasure=function(name,x){var _x$nativeEvent$layout=x.nativeEvent.layout,width=_x$nativeEvent$layout.width,height=_x$nativeEvent$layout.height;var size={width:width,height:height};var storeName="_"+name;var currentSize=_this[storeName];if(currentSize&&width===currentSize.width&&height===currentSize.height){return;}_this[storeName]=size;if(_this._containerSize&&_this._trackSize&&_this._thumbSize){_this.setState({containerSize:_this._containerSize,trackSize:_this._trackSize,thumbSize:_this._thumbSize,measured:true});}};_this._fireChangeEvent=function(event){if(_this.props[event]){_this.props[event](_this._getCurrentVal());}};_this.state={containerSize:{width:0,height:0},trackSize:{width:0,height:0},thumbSize:{width:0,height:0},measured:false};_this.position=new _reactNative.Animated.Value(props.value);_this._panResponder=_reactNative.PanResponder.create({onMoveShouldSetPanResponderCapture:function onMoveShouldSetPanResponderCapture(){return true;},onPanResponderGrant:function onPanResponderGrant(e,gestureState){_this._previousLeft=_this._getThumbLeft(_this._getCurrentVal());_this._fireChangeEvent('onSlidingStart');},onPanResponderMove:function onPanResponderMove(e,gestureState){if(props.disabled){return;}_this._setCurrentValue(_this._getValue(gestureState));_this._fireChangeEvent('onValueChange');},onPanResponderRelease:function onPanResponderRelease(e,gestureState){if(props.disabled){return;}_this._setCurrentValue(_this._getValue(gestureState));_this._fireChangeEvent('onSlidingComplete');}});return _this;}(0,_createClass2.default)(Slider,[{key:"render",value:function render(){var _this$props=this.props,minimumValue=_this$props.minimumValue,maximumValue=_this$props.maximumValue,trackStyle=_this$props.trackStyle,thumbStyle=_this$props.thumbStyle,activeColor=_this$props.activeColor,disabled=_this$props.disabled,theme=_this$props.theme,styles=_this$props.styles;var _this$state=this.state,containerSize=_this$state.containerSize,thumbSize=_this$state.thumbSize,measured=_this$state.measured;var thumbLeft=this.position.interpolate({inputRange:[minimumValue,maximumValue],outputRange:[0,containerSize.width-thumbSize.width]});var minimumTrackWidth=this.position.interpolate({inputRange:[minimumValue,maximumValue],outputRange:[0,containerSize.width-thumbSize.width]});var visibleStyle={};if(!measured)visibleStyle.opacity=0;var minimumTrackStyle=_objectSpread({position:'absolute',width:_reactNative.Animated.add(minimumTrackWidth,thumbSize.width/2),backgroundColor:activeColor||theme.COLORS.PRIMARY},visibleStyle);var containerStyles=[styles.container,styles];return _react.default.createElement(_reactNative.View,{style:containerStyles,onLayout:this._measureContainer,__source:{fileName:_jsxFileName,lineNumber:154}},_react.default.createElement(_reactNative.View,{renderToHardwareTextureAndroid:true,style:[styles.track,trackStyle],onLayout:this._measureTrack,__source:{fileName:_jsxFileName,lineNumber:155}}),_react.default.createElement(_reactNative.Animated.View,{renderToHardwareTextureAndroid:true,style:[styles.track,minimumTrackStyle],__source:{fileName:_jsxFileName,lineNumber:160}}),_react.default.createElement(_reactNative.Animated.View,(0,_extends2.default)({renderToHardwareTextureAndroid:true,style:[styles.thumb,thumbStyle,disabled&&styles.disabled,_objectSpread({transform:[{translateX:thumbLeft},{translateY:0}]},visibleStyle)]},this._panResponder.panHandlers,{onLayout:this._measureThumb,__source:{fileName:_jsxFileName,lineNumber:161}})));}}]);return Slider;}(_react.PureComponent);Slider.defaultProps={disabled:false,minimumValue:0,maximumValue:100,trackStyle:{},thumbStyle:{},value:0,step:0,style:null,theme:_theme.default,onSlidingComplete:function onSlidingComplete(){},onSlidingStart:function onSlidingStart(){},onValueChange:function onValueChange(){}};Slider.propTypes={value:_propTypes.default.number,disabled:_propTypes.default.bool,minimumValue:_propTypes.default.number,maximumValue:_propTypes.default.number,trackStyle:_propTypes.default.any,thumbStyle:_propTypes.default.any,step:_propTypes.default.number,styles:_propTypes.default.any,onSlidingComplete:_propTypes.default.func,onSlidingStart:_propTypes.default.func,onValueChange:_propTypes.default.func};var styles=function styles(theme){return _reactNative.StyleSheet.create({container:{height:40,justifyContent:'center'},track:{height:theme.SIZES.TRACK_SIZE,width:'100%',borderRadius:theme.SIZES.TRACK_SIZE/2,position:'absolute',backgroundColor:theme.COLORS.GREY},thumb:{width:theme.SIZES.THUMB_SIZE,height:theme.SIZES.THUMB_SIZE,borderRadius:theme.SIZES.THUMB_SIZE/2,borderWidth:2,borderColor:theme.COLORS.PRIMARY,backgroundColor:theme.COLORS.WHITE},disabled:{backgroundColor:theme.COLORS.MUTED}});};var _default=(0,_theme.withStyles)(Slider,styles);exports.default=_default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9TbGlkZXIuanMiXSwibmFtZXMiOlsiU2xpZGVyIiwicHJvcHMiLCJfZ2V0UmF0aW8iLCJ2YWx1ZSIsIm1pbmltdW1WYWx1ZSIsIm1heGltdW1WYWx1ZSIsIl9nZXRUaHVtYkxlZnQiLCJzdGF0ZSIsImNvbnRhaW5lclNpemUiLCJ3aWR0aCIsInRodW1iU2l6ZSIsIl9nZXRDdXJyZW50VmFsIiwicG9zaXRpb24iLCJfX2dldFZhbHVlIiwiX3NldEN1cnJlbnRWYWx1ZSIsInNldFZhbHVlIiwiX2dldFZhbHVlIiwiZ2VzdHVyZVN0YXRlIiwibGVuZ3RoIiwidGh1bWJMZWZ0IiwiX3ByZXZpb3VzTGVmdCIsImR4IiwicmF0aW8iLCJzdGVwIiwiTWF0aCIsIm1heCIsIm1pbiIsInJvdW5kIiwiX21lYXN1cmVDb250YWluZXIiLCJ4IiwiX2hhbmRsZU1lYXN1cmUiLCJfbWVhc3VyZVRyYWNrIiwiX21lYXN1cmVUaHVtYiIsIm5hbWUiLCJuYXRpdmVFdmVudCIsImxheW91dCIsImhlaWdodCIsInNpemUiLCJzdG9yZU5hbWUiLCJjdXJyZW50U2l6ZSIsIl9jb250YWluZXJTaXplIiwiX3RyYWNrU2l6ZSIsIl90aHVtYlNpemUiLCJzZXRTdGF0ZSIsInRyYWNrU2l6ZSIsIm1lYXN1cmVkIiwiX2ZpcmVDaGFuZ2VFdmVudCIsImV2ZW50IiwiQW5pbWF0ZWQiLCJWYWx1ZSIsIl9wYW5SZXNwb25kZXIiLCJQYW5SZXNwb25kZXIiLCJjcmVhdGUiLCJvbk1vdmVTaG91bGRTZXRQYW5SZXNwb25kZXJDYXB0dXJlIiwib25QYW5SZXNwb25kZXJHcmFudCIsImUiLCJvblBhblJlc3BvbmRlck1vdmUiLCJkaXNhYmxlZCIsIm9uUGFuUmVzcG9uZGVyUmVsZWFzZSIsInRyYWNrU3R5bGUiLCJ0aHVtYlN0eWxlIiwiYWN0aXZlQ29sb3IiLCJ0aGVtZSIsInN0eWxlcyIsImludGVycG9sYXRlIiwiaW5wdXRSYW5nZSIsIm91dHB1dFJhbmdlIiwibWluaW11bVRyYWNrV2lkdGgiLCJ2aXNpYmxlU3R5bGUiLCJvcGFjaXR5IiwibWluaW11bVRyYWNrU3R5bGUiLCJhZGQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJDT0xPUlMiLCJQUklNQVJZIiwiY29udGFpbmVyU3R5bGVzIiwiY29udGFpbmVyIiwidHJhY2siLCJ0aHVtYiIsInRyYW5zZm9ybSIsInRyYW5zbGF0ZVgiLCJ0cmFuc2xhdGVZIiwicGFuSGFuZGxlcnMiLCJQdXJlQ29tcG9uZW50IiwiZGVmYXVsdFByb3BzIiwic3R5bGUiLCJKYXl0ZWNoVGhlbWUiLCJvblNsaWRpbmdDb21wbGV0ZSIsIm9uU2xpZGluZ1N0YXJ0Iiwib25WYWx1ZUNoYW5nZSIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsIm51bWJlciIsImJvb2wiLCJhbnkiLCJmdW5jIiwiU3R5bGVTaGVldCIsImp1c3RpZnlDb250ZW50IiwiU0laRVMiLCJUUkFDS19TSVpFIiwiYm9yZGVyUmFkaXVzIiwiR1JFWSIsIlRIVU1CX1NJWkUiLCJib3JkZXJXaWR0aCIsImJvcmRlckNvbG9yIiwiV0hJVEUiLCJNVVRFRCJdLCJtYXBwaW5ncyI6Imc0QkFBQSxxREFDQSx5Q0FDQSw2REFDQSx1RCxrM0JBRU1BLENBQUFBLE0sd0VBQ0osZ0JBQVlDLEtBQVosQ0FBbUIscURBQ2pCLGtHQUFNQSxLQUFOLEdBRGlCLE1BbUNuQkMsU0FuQ21CLENBbUNQLFNBQUFDLEtBQUssUUFDZixDQUFDQSxLQUFLLENBQUcsTUFBS0YsS0FBTCxDQUFXRyxZQUFwQixHQUFxQyxNQUFLSCxLQUFMLENBQVdJLFlBQVgsQ0FBMEIsTUFBS0osS0FBTCxDQUFXRyxZQUExRSxDQURlLEVBbkNFLE9Bc0NuQkUsYUF0Q21CLENBc0NILFNBQUFILEtBQUssUUFDbkIsT0FBS0QsU0FBTCxDQUFlQyxLQUFmLEdBQXlCLE1BQUtJLEtBQUwsQ0FBV0MsYUFBWCxDQUF5QkMsS0FBekIsQ0FBaUMsTUFBS0YsS0FBTCxDQUFXRyxTQUFYLENBQXFCRCxLQUEvRSxDQURtQixFQXRDRixPQXlDbkJFLGNBekNt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VUksSUFYUixDQUFuQixDQWNBLEdBQU1oQyxDQUFBQSxNQUFNLENBQUcsUUFBVEEsQ0FBQUEsTUFBUyxDQUFBRCxLQUFLLFFBQ2xCa0MseUJBQVc1QyxNQUFYLENBQWtCLENBQ2hCd0IsU0FBUyxDQUFFLENBQ1R4QyxNQUFNLENBQUUsRUFEQyxDQUVUNkQsY0FBYyxDQUFFLFFBRlAsQ0FESyxDQUtoQnBCLEtBQUssQ0FBRSxDQUNMekMsTUFBTSxDQUFFMEIsS0FBSyxDQUFDb0MsS0FBTixDQUFZQyxVQURmLENBRUwxRixLQUFLLENBQUUsTUFGRixDQUdMMkYsWUFBWSxDQUFFdEMsS0FBSyxDQUFDb0MsS0FBTixDQUFZQyxVQUFaLENBQXlCLENBSGxDLENBSUx2RixRQUFRLENBQUUsVUFKTCxDQUtMNEQsZUFBZSxDQUFFVixLQUFLLENBQUNXLE1BQU4sQ0FBYTRCLElBTHpCLENBTFMsQ0FZaEJ2QixLQUFLLENBQUUsQ0FDTHJFLEtBQUssQ0FBRXFELEtBQUssQ0FBQ29DLEtBQU4sQ0FBWUksVUFEZCxDQUVMbEUsTUFBTSxDQUFFMEIsS0FBSyxDQUFDb0MsS0FBTixDQUFZSSxVQUZmLENBR0xGLFlBQVksQ0FBRXRDLEtBQUssQ0FBQ29DLEtBQU4sQ0FBWUksVUFBWixDQUF5QixDQUhsQyxDQUlMQyxXQUFXLENBQUUsQ0FKUixDQUtMQyxXQUFXLENBQUUxQyxLQUFLLENBQUNXLE1BQU4sQ0FBYUMsT0FMckIsQ0FNTEYsZUFBZSxDQUFFVixLQUFLLENBQUNXLE1BQU4sQ0FBYWdDLEtBTnpCLENBWlMsQ0FvQmhCaEQsUUFBUSxDQUFFLENBQ1JlLGVBQWUsQ0FBRVYsS0FBSyxDQUFDVyxNQUFOLENBQWFpQyxLQUR0QixDQXBCTSxDQUFsQixDQURrQixFQUFwQixDLGFBMEJlLHNCQUFXMUcsTUFBWCxDQUFtQitELE1BQW5CLEMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgUHVyZUNvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFZpZXcsIEFuaW1hdGVkLCBTdHlsZVNoZWV0LCBQYW5SZXNwb25kZXIgfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBKYXl0ZWNoVGhlbWUsIHsgd2l0aFN0eWxlcyB9IGZyb20gJy4vdGhlbWUnO1xuXG5jbGFzcyBTbGlkZXIgZXh0ZW5kcyBQdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNvbnRhaW5lclNpemU6IHsgd2lkdGg6IDAsIGhlaWdodDogMCB9LFxuICAgICAgdHJhY2tTaXplOiB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfSxcbiAgICAgIHRodW1iU2l6ZTogeyB3aWR0aDogMCwgaGVpZ2h0OiAwIH0sXG4gICAgICBtZWFzdXJlZDogZmFsc2UsIC8vaGlkZSB0aGUgVUkgdW50aWwgd2UgbWVhc3VyZSB0aGUgVmlld1xuICAgIH07XG5cbiAgICB0aGlzLnBvc2l0aW9uID0gbmV3IEFuaW1hdGVkLlZhbHVlKHByb3BzLnZhbHVlKTsgLy9yZWNpZXZlIHZhbHVlIGZyb20gdXNlclxuICAgIHRoaXMuX3BhblJlc3BvbmRlciA9IFBhblJlc3BvbmRlci5jcmVhdGUoe1xuICAgICAgb25Nb3ZlU2hvdWxkU2V0UGFuUmVzcG9uZGVyQ2FwdHVyZTogKCkgPT4gdHJ1ZSxcbiAgICAgIG9uUGFuUmVzcG9uZGVyR3JhbnQ6IChlLCBnZXN0dXJlU3RhdGUpID0+IHtcbiAgICAgICAgdGhpcy5fcHJldmlvdXNMZWZ0ID0gdGhpcy5fZ2V0VGh1bWJMZWZ0KHRoaXMuX2dldEN1cnJlbnRWYWwoKSk7XG4gICAgICAgIHRoaXMuX2ZpcmVDaGFuZ2VFdmVudCgnb25TbGlkaW5nU3RhcnQnKTtcbiAgICAgIH0sXG4gICAgICBvblBhblJlc3BvbmRlck1vdmU6IChlLCBnZXN0dXJlU3RhdGUpID0+IHtcbiAgICAgICAgaWYgKHByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2V0Q3VycmVudFZhbHVlKHRoaXMuX2dldFZhbHVlKGdlc3R1cmVTdGF0ZSkpO1xuICAgICAgICB0aGlzLl9maXJlQ2hhbmdlRXZlbnQoJ29uVmFsdWVDaGFuZ2UnKTtcbiAgICAgIH0sXG4gICAgICBvblBhblJlc3BvbmRlclJlbGVhc2U6IChlLCBnZXN0dXJlU3RhdGUpID0+IHtcbiAgICAgICAgaWYgKHByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2V0Q3VycmVudFZhbHVlKHRoaXMuX2dldFZhbHVlKGdlc3R1cmVTdGF0ZSkpO1xuICAgICAgICB0aGlzLl9maXJlQ2hhbmdlRXZlbnQoJ29uU2xpZGluZ0NvbXBsZXRlJyk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgX2dldFJhdGlvID0gdmFsdWUgPT5cbiAgICAodmFsdWUgLSB0aGlzLnByb3BzLm1pbmltdW1WYWx1ZSkgLyAodGhpcy5wcm9wcy5tYXhpbXVtVmFsdWUgLSB0aGlzLnByb3BzLm1pbmltdW1WYWx1ZSk7XG5cbiAgX2dldFRodW1iTGVmdCA9IHZhbHVlID0+XG4gICAgdGhpcy5fZ2V0UmF0aW8odmFsdWUpICogKHRoaXMuc3RhdGUuY29udGFpbmVyU2l6ZS53aWR0aCAtIHRoaXMuc3RhdGUudGh1bWJTaXplLndpZHRoKTtcblxuICBfZ2V0Q3VycmVudFZhbCA9ICgpID0+IHRoaXMucG9zaXRpb24uX19nZXRWYWx1ZSgpO1xuXG4gIF9zZXRDdXJyZW50VmFsdWUgPSB2YWx1ZSA9PiB0aGlzLnBvc2l0aW9uLnNldFZhbHVlKHZhbHVlKTtcblxuICBfZ2V0VmFsdWUgPSBnZXN0dXJlU3RhdGUgPT4ge1xuICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMuc3RhdGUuY29udGFpbmVyU2l6ZS53aWR0aCAtIHRoaXMuc3RhdGUudGh1bWJTaXplLndpZHRoO1xuICAgIGNvbnN0IHRodW1iTGVmdCA9IHRoaXMuX3ByZXZpb3VzTGVmdCArIGdlc3R1cmVTdGF0ZS5keDtcblxuICAgIGNvbnN0IHJhdGlvID0gdGh1bWJMZWZ0IC8gbGVuZ3RoO1xuXG4gICAgaWYgKHRoaXMucHJvcHMuc3RlcCkge1xuICAgICAgcmV0dXJuIE1hdGgubWF4KFxuICAgICAgICB0aGlzLnByb3BzLm1pbmltdW1WYWx1ZSxcbiAgICAgICAgTWF0aC5taW4oXG4gICAgICAgICAgdGhpcy5wcm9wcy5tYXhpbXVtVmFsdWUsXG4gICAgICAgICAgdGhpcy5wcm9wcy5taW5pbXVtVmFsdWUgK1xuICAgICAgICAgICAgTWF0aC5yb3VuZChcbiAgICAgICAgICAgICAgKHJhdGlvICogKHRoaXMucHJvcHMubWF4aW11bVZhbHVlIC0gdGhpcy5wcm9wcy5taW5pbXVtVmFsdWUpKSAvIHRoaXMucHJvcHMuc3RlcFxuICAgICAgICAgICAgKSAqXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuc3RlcFxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5tYXgoXG4gICAgICB0aGlzLnByb3BzLm1pbmltdW1WYWx1ZSxcbiAgICAgIE1hdGgubWluKFxuICAgICAgICB0aGlzLnByb3BzLm1heGltdW1WYWx1ZSxcbiAgICAgICAgcmF0aW8gKiAodGhpcy5wcm9wcy5tYXhpbXVtVmFsdWUgLSB0aGlzLnByb3BzLm1pbmltdW1WYWx1ZSkgKyB0aGlzLnByb3BzLm1pbmltdW1WYWx1ZVxuICAgICAgKVxuICAgICk7XG4gIH07XG4gIC8vIGNvbnRhaW5lciBzaXplXG4gIF9tZWFzdXJlQ29udGFpbmVyID0geCA9PiB7XG4gICAgdGhpcy5faGFuZGxlTWVhc3VyZSgnY29udGFpbmVyU2l6ZScsIHgpO1xuICB9O1xuICAvLyB0cmFjayBzaXplXG4gIF9tZWFzdXJlVHJhY2sgPSB4ID0+IHtcbiAgICB0aGlzLl9oYW5kbGVNZWFzdXJlKCd0cmFja1NpemUnLCB4KTtcbiAgfTtcbiAgLy8gdGh1bWIgc2l6ZVxuICBfbWVhc3VyZVRodW1iID0geCA9PiB7XG4gICAgdGhpcy5faGFuZGxlTWVhc3VyZSgndGh1bWJTaXplJywgeCk7XG4gIH07XG4gIC8vIGNhbGN1bGF0ZSBhbGwgb2YgdGhlbVxuICBfaGFuZGxlTWVhc3VyZSA9IChuYW1lLCB4KSA9PiB7XG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB4Lm5hdGl2ZUV2ZW50LmxheW91dDtcbiAgICBjb25zdCBzaXplID0geyB3aWR0aCwgaGVpZ2h0IH07XG5cbiAgICBjb25zdCBzdG9yZU5hbWUgPSBgXyR7bmFtZX1gO1xuICAgIGNvbnN0IGN1cnJlbnRTaXplID0gdGhpc1tzdG9yZU5hbWVdO1xuICAgIGlmIChjdXJyZW50U2l6ZSAmJiB3aWR0aCA9PT0gY3VycmVudFNpemUud2lkdGggJiYgaGVpZ2h0ID09PSBjdXJyZW50U2l6ZS5oZWlnaHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpc1tzdG9yZU5hbWVdID0gc2l6ZTsgLy8gaW5pdGlhbGl6ZSBhIG5ldyB2YXIgd2l0aCB0aGUgY3VycmVudCBzaXplc1xuICAgIGlmICh0aGlzLl9jb250YWluZXJTaXplICYmIHRoaXMuX3RyYWNrU2l6ZSAmJiB0aGlzLl90aHVtYlNpemUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBjb250YWluZXJTaXplOiB0aGlzLl9jb250YWluZXJTaXplLFxuICAgICAgICB0cmFja1NpemU6IHRoaXMuX3RyYWNrU2l6ZSxcbiAgICAgICAgdGh1bWJTaXplOiB0aGlzLl90aHVtYlNpemUsXG4gICAgICAgIG1lYXN1cmVkOiB0cnVlLFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIF9maXJlQ2hhbmdlRXZlbnQgPSBldmVudCA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHNbZXZlbnRdKSB7XG4gICAgICB0aGlzLnByb3BzW2V2ZW50XSh0aGlzLl9nZXRDdXJyZW50VmFsKCkpO1xuICAgIH1cbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgbWluaW11bVZhbHVlLFxuICAgICAgbWF4aW11bVZhbHVlLFxuICAgICAgdHJhY2tTdHlsZSxcbiAgICAgIHRodW1iU3R5bGUsXG4gICAgICBhY3RpdmVDb2xvcixcbiAgICAgIGRpc2FibGVkLFxuICAgICAgdGhlbWUsXG4gICAgICBzdHlsZXMsXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgeyBjb250YWluZXJTaXplLCB0aHVtYlNpemUsIG1lYXN1cmVkIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgY29uc3QgdGh1bWJMZWZ0ID0gdGhpcy5wb3NpdGlvbi5pbnRlcnBvbGF0ZSh7XG4gICAgICBpbnB1dFJhbmdlOiBbbWluaW11bVZhbHVlLCBtYXhpbXVtVmFsdWVdLFxuICAgICAgb3V0cHV0UmFuZ2U6IFswLCBjb250YWluZXJTaXplLndpZHRoIC0gdGh1bWJTaXplLndpZHRoXSxcbiAgICB9KTtcblxuICAgIGNvbnN0IG1pbmltdW1UcmFja1dpZHRoID0gdGhpcy5wb3NpdGlvbi5pbnRlcnBvbGF0ZSh7XG4gICAgICBpbnB1dFJhbmdlOiBbbWluaW11bVZhbHVlLCBtYXhpbXVtVmFsdWVdLFxuICAgICAgb3V0cHV0UmFuZ2U6IFswLCBjb250YWluZXJTaXplLndpZHRoIC0gdGh1bWJTaXplLndpZHRoXSxcbiAgICB9KTtcblxuICAgIGNvbnN0IHZpc2libGVTdHlsZSA9IHt9O1xuICAgIGlmICghbWVhc3VyZWQpIHZpc2libGVTdHlsZS5vcGFjaXR5ID0gMDtcblxuICAgIGNvbnN0IG1pbmltdW1UcmFja1N0eWxlID0ge1xuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICB3aWR0aDogQW5pbWF0ZWQuYWRkKG1pbmltdW1UcmFja1dpZHRoLCB0aHVtYlNpemUud2lkdGggLyAyKSxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogYWN0aXZlQ29sb3IgfHwgdGhlbWUuQ09MT1JTLlBSSU1BUlksXG4gICAgICAuLi52aXNpYmxlU3R5bGUsXG4gICAgfTtcblxuICAgIGNvbnN0IGNvbnRhaW5lclN0eWxlcyA9IFtzdHlsZXMuY29udGFpbmVyLCBzdHlsZXNdO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxWaWV3IHN0eWxlPXtjb250YWluZXJTdHlsZXN9IG9uTGF5b3V0PXt0aGlzLl9tZWFzdXJlQ29udGFpbmVyfT5cbiAgICAgICAgPFZpZXdcbiAgICAgICAgICByZW5kZXJUb0hhcmR3YXJlVGV4dHVyZUFuZHJvaWRcbiAgICAgICAgICBzdHlsZT17W3N0eWxlcy50cmFjaywgdHJhY2tTdHlsZV19XG4gICAgICAgICAgb25MYXlvdXQ9e3RoaXMuX21lYXN1cmVUcmFja31cbiAgICAgICAgLz5cbiAgICAgICAgPEFuaW1hdGVkLlZpZXcgcmVuZGVyVG9IYXJkd2FyZVRleHR1cmVBbmRyb2lkIHN0eWxlPXtbc3R5bGVzLnRyYWNrLCBtaW5pbXVtVHJhY2tTdHlsZV19IC8+XG4gICAgICAgIDxBbmltYXRlZC5WaWV3XG4gICAgICAgICAgcmVuZGVyVG9IYXJkd2FyZVRleHR1cmVBbmRyb2lkXG4gICAgICAgICAgc3R5bGU9e1tcbiAgICAgICAgICAgIHN0eWxlcy50aHVtYixcbiAgICAgICAgICAgIHRodW1iU3R5bGUsXG4gICAgICAgICAgICBkaXNhYmxlZCAmJiBzdHlsZXMuZGlzYWJsZWQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHRyYW5zZm9ybTogW3sgdHJhbnNsYXRlWDogdGh1bWJMZWZ0IH0sIHsgdHJhbnNsYXRlWTogMCB9XSxcbiAgICAgICAgICAgICAgLi4udmlzaWJsZVN0eWxlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdfVxuICAgICAgICAgIHsuLi50aGlzLl9wYW5SZXNwb25kZXIucGFuSGFuZGxlcnN9XG4gICAgICAgICAgb25MYXlvdXQ9e3RoaXMuX21lYXN1cmVUaHVtYn1cbiAgICAgICAgLz5cbiAgICAgIDwvVmlldz5cbiAgICApO1xuICB9XG59XG5cblNsaWRlci5kZWZhdWx0UHJvcHMgPSB7XG4gIGRpc2FibGVkOiBmYWxzZSxcbiAgbWluaW11bVZhbHVlOiAwLFxuICBtYXhpbXVtVmFsdWU6IDEwMCxcbiAgdHJhY2tTdHlsZToge30sXG4gIHRodW1iU3R5bGU6IHt9LFxuICB2YWx1ZTogMCxcbiAgc3RlcDogMCxcbiAgc3R5bGU6IG51bGwsXG4gIHRoZW1lOiBKYXl0ZWNoVGhlbWUsXG4gIG9uU2xpZGluZ0NvbXBsZXRlOiAoKSA9PiB7fSxcbiAgb25TbGlkaW5nU3RhcnQ6ICgpID0+IHt9LFxuICBvblZhbHVlQ2hhbmdlOiAoKSA9PiB7fSxcbn07XG5cblNsaWRlci5wcm9wVHlwZXMgPSB7XG4gIHZhbHVlOiBQcm9wVHlwZXMubnVtYmVyLFxuICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsXG4gIG1pbmltdW1WYWx1ZTogUHJvcFR5cGVzLm51bWJlcixcbiAgbWF4aW11bVZhbHVlOiBQcm9wVHlwZXMubnVtYmVyLFxuICB0cmFja1N0eWxlOiBQcm9wVHlwZXMuYW55LFxuICB0aHVtYlN0eWxlOiBQcm9wVHlwZXMuYW55LFxuICBzdGVwOiBQcm9wVHlwZXMubnVtYmVyLFxuICBzdHlsZXM6IFByb3BUeXBlcy5hbnksXG4gIG9uU2xpZGluZ0NvbXBsZXRlOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25TbGlkaW5nU3RhcnQ6IFByb3BUeXBlcy5mdW5jLFxuICBvblZhbHVlQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbn07XG5cbmNvbnN0IHN0eWxlcyA9IHRoZW1lID0+XG4gIFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgICBjb250YWluZXI6IHtcbiAgICAgIGhlaWdodDogNDAsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgfSxcbiAgICB0cmFjazoge1xuICAgICAgaGVpZ2h0OiB0aGVtZS5TSVpFUy5UUkFDS19TSVpFLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIGJvcmRlclJhZGl1czogdGhlbWUuU0laRVMuVFJBQ0tfU0laRSAvIDIsXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUuQ09MT1JTLkdSRVksXG4gICAgfSxcbiAgICB0aHVtYjoge1xuICAgICAgd2lkdGg6IHRoZW1lLlNJWkVTLlRIVU1CX1NJWkUsXG4gICAgICBoZWlnaHQ6IHRoZW1lLlNJWkVTLlRIVU1CX1NJWkUsXG4gICAgICBib3JkZXJSYWRpdXM6IHRoZW1lLlNJWkVTLlRIVU1CX1NJWkUgLyAyLFxuICAgICAgYm9yZGVyV2lkdGg6IDIsXG4gICAgICBib3JkZXJDb2xvcjogdGhlbWUuQ09MT1JTLlBSSU1BUlksXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLkNPTE9SUy5XSElURSxcbiAgICB9LFxuICAgIGRpc2FibGVkOiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLkNPTE9SUy5NVVRFRCxcbiAgICB9LFxuICB9KTtcblxuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhTbGlkZXIsIHN0eWxlcyk7XG4iXX0=